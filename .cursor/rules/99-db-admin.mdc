---
description: Database Setup & Migration Instructions
globs: lib/db/*
---
# Database Setup Instructions

IF the user asks to "Setup Database" or "Initialize DB":

1.  **Install**: `npm install better-sqlite3 tsx`
2.  **Create Client** (`lib/db/client.ts`):
    ```typescript
    import Database from 'better-sqlite3';
    import path from 'path';
    const db = new Database(path.join(process.cwd(), 'data', 'app.db'));
    db.pragma('journal_mode = WAL');
    export default db;
    ```
3.  **Create Helper** (`lib/db/setup.ts`) to read `.sql` files from `lib/db/migrations/` and execute them.
4.  **Add Script** to package.json: `"db:setup": "tsx lib/db/setup.ts"`
